<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥å¡”ç½— - ç¥ç§˜å­¦é¢„æµ‹ä¸­å¿ƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* æ˜Ÿç©ºèƒŒæ™¯åŠ¨ç”» */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .top-nav {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid #00ffff;
            padding: 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 255, 255, 0.3);
        }

        .nav-container {
            display: flex;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-right: 40px;
            padding: 15px 0;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            flex: 1;
        }

        .nav-item {
            margin: 0 5px;
        }

        .nav-link {
            display: block;
            padding: 15px 20px;
            color: #e0e0e0;
            text-decoration: none;
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .nav-link:hover {
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.2), rgba(255, 0, 255, 0.2));
            color: #00ffff;
            transform: translateY(-2px);
        }

        .nav-link.active {
            background: linear-gradient(45deg, #00ffff, #ff00ff);
            color: #000;
        }

        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-container {
            display: flex;
            margin-top: 70px;
            min-height: calc(100vh - 70px);
        }

        /* å·¦ä¾§åŠŸèƒ½èœå• */
        .sidebar {
            width: 280px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-right: 2px solid #00ffff;
            padding: 20px 0;
            overflow-y: auto;
        }

        .sidebar-category {
            margin-bottom: 20px;
        }

        .category-title {
            color: #00ffff;
            font-size: 18px;
            font-weight: bold;
            padding: 10px 20px;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
            margin-bottom: 10px;
        }

        .function-list {
            list-style: none;
        }

        .function-item {
            margin: 2px 0;
        }

        .function-link {
            display: block;
            padding: 12px 20px;
            color: #ccc;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .function-link:hover {
            background: rgba(0, 255, 255, 0.1);
            color: #00ffff;
            border-left-color: #00ffff;
            transform: translateX(5px);
        }

        .function-link.active {
            background: rgba(0, 255, 255, 0.2);
            color: #00ffff;
            border-left-color: #00ffff;
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .content-area {
            flex: 1;
            padding: 40px;
            position: relative;
        }

        .page-title {
            font-size: 36px;
            background: linear-gradient(45deg, #9966cc, #dda0dd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 30px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(153, 102, 204, 0.5)); }
            to { filter: drop-shadow(0 0 30px rgba(221, 160, 221, 0.5)); }
        }

        .divination-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .divination-card {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #9966cc;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .divination-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(153, 102, 204, 0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.6s;
            opacity: 0;
        }

        .divination-card:hover::before {
            animation: shimmer 1.5s ease-in-out;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); opacity: 0; }
        }

        .divination-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(153, 102, 204, 0.3);
            border-color: #dda0dd;
        }

        .divination-icon {
            font-size: 64px;
            margin-bottom: 20px;
            color: #9966cc;
        }

        .divination-title {
            font-size: 24px;
            color: #dda0dd;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .divination-description {
            color: #ccc;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .start-button {
            background: linear-gradient(45deg, #9966cc, #dda0dd);
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .start-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(153, 102, 204, 0.4);
        }

        .reading-area {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #9966cc;
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            display: none;
        }

        .reading-area.show { display: block; animation: fadeInUp 0.5s ease; }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .question-input {
            width: 100%;
            max-width: 600px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #9966cc;
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
            text-align: center;
            margin-bottom: 20px;
        }

        .question-input:focus {
            outline: none;
            border-color: #dda0dd;
            box-shadow: 0 0 20px rgba(153, 102, 204, 0.3);
        }

        .card-deck {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            min-height: 200px;
        }

        .tarot-card {
            width: 120px;
            height: 200px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border: 2px solid #9966cc;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            transform-style: preserve-3d;
        }

        .tarot-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 30px rgba(153, 102, 204, 0.4);
        }

        .card-back, .card-front {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 10px;
        }

        .card-back {
            background: linear-gradient(135deg, #9966cc, #dda0dd);
        }

        .card-front {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border: 2px solid #dda0dd;
            transform: rotateY(180deg);
        }

        .tarot-card.flipped {
            transform: rotateY(180deg);
        }

        .card-pattern {
            font-size: 48px;
            color: #000;
        }

        .card-name {
            color: #dda0dd;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
        }

        .card-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .card-meaning {
            color: #ccc;
            font-size: 12px;
            text-align: center;
            line-height: 1.4;
        }

        .spread-layout {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .position-label {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            color: #dda0dd;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }

        .reading-result {
            background: rgba(153, 102, 204, 0.1);
            border: 1px solid #9966cc;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            display: none;
        }

        .reading-result.show { display: block; animation: fadeInUp 0.5s ease; }

        .result-title {
            color: #dda0dd;
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .card-interpretation {
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .interpretation-title {
            color: #9966cc;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .interpretation-text {
            color: #ccc;
            line-height: 1.6;
        }

        .overall-reading {
            background: rgba(221, 160, 221, 0.1);
            border: 1px solid #dda0dd;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .overall-title {
            color: #dda0dd;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .overall-text {
            color: #ccc;
            line-height: 1.6;
        }

        .shuffle-button {
            background: linear-gradient(45deg, #9966cc, #dda0dd);
            border: none;
            border-radius: 25px;
            padding: 15px 40px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 30px auto;
        }

        .shuffle-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(153, 102, 204, 0.4);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }
            
            .main-container {
                flex-direction: column;
            }
            
            .content-area {
                padding: 20px;
            }
            
            .tarot-card {
                width: 120px;
                height: 200px;
                margin: 0 5px;
            }
            
            .card-face {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="stars" id="stars"></div>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="top-nav">
        <div class="nav-container">
            <div class="logo"><a href="../../index_mystic.html" style="color: inherit; text-decoration: none;">ğŸ”® Mystic Hub</a></div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../bazi/chart.html" class="nav-link">å…«å­—å‘½ç†</a>
                </li>
                <li class="nav-item">
                    <a href="../astrology/horoscope.html" class="nav-link">æ˜Ÿåº§å æ˜Ÿ</a>
                </li>
                <li class="nav-item">
                    <a href="../tarot/daily.html" class="nav-link active">å¡”ç½—ç‰Œ</a>
                </li>
                <li class="nav-item">
                    <a href="../numerology/life-path.html" class="nav-link">æ•°å­—å‘½ç†</a>
                </li>
                <li class="nav-item">
                    <a href="../palmistry/palm-reading.html" class="nav-link">æ‰‹ç›¸é¢ç›¸</a>
                </li>
                <li class="nav-item">
                    <a href="../divination/lots.html" class="nav-link">å åœæ¸¸æˆ</a>
                </li>
                <li class="nav-item">
                    <a href="../fengshui/home.html" class="nav-link">é£æ°´åˆ†æ</a>
                </li>
            </ul>
        </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../../index_mystic.html" class="nav-link">å…«å­—å‘½ç†</a>
                </li>
                <li class="nav-item">
                    <a href="../astrology/horoscope.html" class="nav-link">æ˜Ÿåº§å æ˜Ÿ</a>
                </li>
                <li class="nav-item">
                    <a href="../tarot/daily.html" class="nav-link active">å¡”ç½—ç‰Œ</a>
                </li>
                <li class="nav-item">
                    <a href="../numerology/life-number.html" class="nav-link">æ•°å­—å‘½ç†</a>
                </li>
                <li class="nav-item">
                    <a href="../palmistry/palm-reading.html" class="nav-link">æ‰‹ç›¸é¢ç›¸</a>
                </li>
                <li class="nav-item">
                    <a href="../divination/lots.html" class="nav-link">å åœæ¸¸æˆ</a>
                </li>
                <li class="nav-item">
                    <a href="../fengshui/home.html" class="nav-link">é£æ°´åˆ†æ</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="main-container">
        <!-- å·¦ä¾§åŠŸèƒ½èœå• -->
        <aside class="sidebar">
            <div class="sidebar-category">
                <div class="category-title">å¡”ç½—å åœ</div>
                <ul class="function-list">
                    <li class="function-item">
                        <a href="daily.html" class="function-link active">æ¯æ—¥å¡”ç½—</a>
                    </li>
                    <li class="function-item">
                        <a href="career.html" class="function-link">äº‹ä¸šå¡”ç½—</a>
                    </li>
                    <li class="function-item">
                        <a href="love.html" class="function-link">çˆ±æƒ…å¡”ç½—</a>
                    </li>
                    <li class="function-item">
                        <a href="Celtic.html" class="function-link">å‡¯å°”ç‰¹åå­—</a>
                    </li>
                    <li class="function-item">
                        <a href="three-card.html" class="function-link">ä¸‰å¼ ç‰Œå åœ</a>
                    </li>
                    <li class="function-item">
                        <a href="monthly.html" class="function-link">æœˆè¿åŠ¿</a>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="content-area">
            <h1 class="page-title">ğŸ”® æ¯æ—¥å¡”ç½—å åœ</h1>
            
            <div class="divination-types">
                <div class="divination-card" onclick="startReading('single')">
                    <div class="divination-icon">ğŸƒ</div>
                    <div class="divination-title">å•å¼ ç‰Œå åœ</div>
                    <div class="divination-description">æŠ½å–ä¸€å¼ å¡”ç½—ç‰Œï¼Œè·å¾—ä»Šæ—¥çš„é‡è¦æŒ‡å¼•å’Œå»ºè®®</div>
                    <button class="start-button">å¼€å§‹å åœ</button>
                </div>
                
                <div class="divination-card" onclick="startReading('three')">
                    <div class="divination-icon">ğŸ´</div>
                    <div class="divination-title">ä¸‰å¼ ç‰Œå åœ</div>
                    <div class="divination-description">è¿‡å»ã€ç°åœ¨ã€æœªæ¥ä¸‰ä¸ªç»´åº¦çš„å®Œæ•´è§£è¯»</div>
                    <button class="start-button">å¼€å§‹å åœ</button>
                </div>
                
                <div class="divination-card" onclick="startReading('daily')">
                    <div class="divination-icon">ğŸŒ…</div>
                    <div class="divination-title">æ¯æ—¥è¿åŠ¿</div>
                    <div class="divination-description">ä¸“é—¨é’ˆå¯¹ä»Šæ—¥å„æ–¹é¢è¿åŠ¿çš„è¯¦ç»†åˆ†æ</div>
                    <button class="start-button">å¼€å§‹å åœ</button>
                </div>
            </div>
            
            <div id="readingArea" class="reading-area">
                <div class="question-section">
                    <h3 style="color: #dda0dd; margin-bottom: 15px;">è¯·åœ¨å¿ƒä¸­é»˜å¿µæ‚¨çš„é—®é¢˜</h3>
                    <input type="text" id="questionInput" class="question-input" placeholder="å¯ä»¥åœ¨æ­¤è¾“å…¥æ‚¨æƒ³å’¨è¯¢çš„é—®é¢˜ï¼ˆå¯é€‰ï¼‰">
                    <p style="color: #ccc; font-size: 14px;">é›†ä¸­ç²¾ç¥ï¼Œè®©å¡”ç½—ç‰Œä¸ºæ‚¨æ­ç¤ºç­”æ¡ˆ</p>
                </div>
                
                <div class="card-deck" id="cardDeck">
                    <!-- å¡”ç½—ç‰Œå°†ç”±JavaScriptç”Ÿæˆ -->
                </div>
                
                <button id="shuffleButton" class="shuffle-button" onclick="shuffleDeck()">æ´—ç‰Œ</button>
                
                <div id="spreadLayout" class="spread-layout">
                    <!-- ç‰Œé˜µå¸ƒå±€å°†ç”±JavaScriptç”Ÿæˆ -->
                </div>
                
                <div id="readingResult" class="reading-result">
                    <div class="result-title" id="resultTitle">å¡”ç½—è§£è¯»</div>
                    <div id="interpretations">
                        <!-- è§£è¯»å†…å®¹å°†ç”±JavaScriptç”Ÿæˆ -->
                    </div>
                    <div class="overall-reading">
                        <div class="overall-title">ç»¼åˆè§£è¯»</div>
                        <div class="overall-text" id="overallReading">
                            <!-- ç»¼åˆè§£è¯»å°†ç”±JavaScriptç”Ÿæˆ -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const tarotCards = [
            { name: 'æ„šè€…', icon: 'ğŸ¤¡', meaning: 'æ–°çš„å¼€å§‹ï¼Œå†’é™©ç²¾ç¥ï¼Œå¤©çœŸæ— é‚ªï¼Œéœ€è¦è°¨æ…è¡Œäº‹' },
            { name: 'é­”æœ¯å¸ˆ', icon: 'ğŸ©', meaning: 'åˆ›é€ åŠ›ï¼ŒæŠ€èƒ½ï¼Œæ„å¿—åŠ›ï¼Œæœ‰èƒ½åŠ›å®ç°ç›®æ ‡' },
            { name: 'å¥³ç¥­å¸', icon: 'ğŸ”®', meaning: 'ç›´è§‰ï¼Œæ™ºæ…§ï¼Œç¥ç§˜çŸ¥è¯†ï¼Œå€¾å¬å†…å¿ƒå£°éŸ³' },
            { name: 'çš‡å', icon: 'ğŸ‘‘', meaning: 'ä¸°é¥¶ï¼Œæ¯æ€§ï¼Œåˆ›é€ åŠ›ï¼Œå…³çˆ±å’Œæ»‹å…»' },
            { name: 'çš‡å¸', icon: 'ğŸ›ï¸', meaning: 'æƒå¨ï¼Œç»“æ„ï¼Œç¨³å®šï¼Œé¢†å¯¼èƒ½åŠ›å’Œæ§åˆ¶' },
            { name: 'æ•™çš‡', icon: 'â›ª', meaning: 'ä¼ ç»Ÿï¼Œç²¾ç¥æŒ‡å¯¼ï¼Œé“å¾·ï¼Œå¯»æ±‚æ™ºæ…§å’ŒæŒ‡å¼•' },
            { name: 'æ‹äºº', icon: 'ğŸ’•', meaning: 'çˆ±æƒ…ï¼Œé€‰æ‹©ï¼Œå’Œè°ï¼Œé‡è¦çš„äººé™…å…³ç³»' },
            { name: 'æˆ˜è½¦', icon: 'ğŸ†', meaning: 'èƒœåˆ©ï¼Œæ„å¿—åŠ›ï¼Œå†³å¿ƒï¼Œå…‹æœå›°éš¾' },
            { name: 'åŠ›é‡', icon: 'ğŸ¦', meaning: 'å†…åœ¨åŠ›é‡ï¼Œå‹‡æ°”ï¼Œè€å¿ƒï¼Œé©¯æœé‡æ€§' },
            { name: 'éšè€…', icon: 'ğŸ•¯ï¸', meaning: 'å†…çœï¼Œå¯»æ‰¾ç­”æ¡ˆï¼Œç‹¬å¤„ï¼Œç²¾ç¥è¿½æ±‚' },
            { name: 'å‘½è¿ä¹‹è½®', icon: 'ğŸ¡', meaning: 'å˜åŒ–ï¼Œæœºé‡ï¼Œå‘½è¿ï¼Œç”Ÿæ´»çš„å¾ªç¯' },
            { name: 'æ­£ä¹‰', icon: 'âš–ï¸', meaning: 'å…¬æ­£ï¼Œå¹³è¡¡ï¼ŒçœŸç†ï¼Œé“å¾·è´£ä»»' },
            { name: 'å€’åŠäºº', icon: 'ğŸ™ƒ', meaning: 'ç‰ºç‰²ï¼Œç­‰å¾…ï¼Œæ¢ä¸ªè§’åº¦ï¼Œé‡Šæ”¾æ§åˆ¶' },
            { name: 'æ­»ç¥', icon: 'ğŸ’€', meaning: 'ç»“æŸï¼Œè½¬å˜ï¼Œé‡ç”Ÿï¼Œå¿…è¦çš„æ”¹å˜' },
            { name: 'èŠ‚åˆ¶', icon: 'ğŸ§˜', meaning: 'å¹³è¡¡ï¼Œå’Œè°ï¼ŒèŠ‚åˆ¶ï¼Œèåˆå¯¹ç«‹' },
            { name: 'é­”é¬¼', icon: 'ğŸ˜ˆ', meaning: 'è¯±æƒ‘ï¼ŒæŸç¼šï¼Œç‰©è´¨æ¬²æœ›ï¼Œéœ€è¦è§£è„±' },
            { name: 'å¡”', icon: 'ğŸ—¼', meaning: 'çªç„¶å˜åŒ–ï¼Œè§‰é†’ï¼Œç ´åé‡å»º' },
            { name: 'æ˜Ÿæ˜Ÿ', icon: 'â­', meaning: 'å¸Œæœ›ï¼Œçµæ„Ÿï¼Œç²¾ç¥æŒ‡å¼•ï¼Œç¾å¥½æœªæ¥' },
            { name: 'æœˆäº®', icon: 'ğŸŒ™', meaning: 'å¹»è±¡ï¼Œæ½œæ„è¯†ï¼Œç›´è§‰ï¼Œéšè—çš„çœŸç›¸' },
            { name: 'å¤ªé˜³', icon: 'â˜€ï¸', meaning: 'æˆåŠŸï¼Œå¿«ä¹ï¼Œæ´»åŠ›ï¼Œç§¯ææ­£é¢' },
            { name: 'å®¡åˆ¤', icon: 'ğŸ“¯', meaning: 'é‡ç”Ÿï¼Œè§‰é†’ï¼Œå®½æ•ï¼Œæ–°çš„å¼€å§‹' },
            { name: 'ä¸–ç•Œ', icon: 'ğŸŒ', meaning: 'å®Œæˆï¼Œæˆå°±ï¼Œåœ†æ»¡ï¼Œè¾¾åˆ°ç›®æ ‡' }
        ];

        let currentReadingType = '';
        let selectedCards = [];
        let drawnCards = [];

        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                starsContainer.appendChild(star);
            }
        }

        function startReading(type) {
            currentReadingType = type;
            selectedCards = [];
            drawnCards = [];
            
            document.getElementById('readingArea').classList.add('show');
            document.getElementById('readingResult').classList.remove('show');
            document.getElementById('spreadLayout').innerHTML = '';
            
            generateCardDeck();
        }

        function generateCardDeck() {
            const cardDeck = document.getElementById('cardDeck');
            cardDeck.innerHTML = '';
            
            // éšæœºé€‰æ‹©22å¼ ç‰Œæ˜¾ç¤º
            const shuffledCards = [...tarotCards].sort(() => Math.random() - 0.5);
            const displayCards = shuffledCards.slice(0, 15);
            
            displayCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'tarot-card';
                cardElement.onclick = () => selectCard(card, cardElement);
                
                cardElement.innerHTML = `
                    <div class="card-back">
                        <div class="card-pattern">ğŸ”®</div>
                    </div>
                    <div class="card-front">
                        <div class="card-name">${card.name}</div>
                        <div class="card-icon">${card.icon}</div>
                        <div class="card-meaning">${card.meaning}</div>
                    </div>
                `;
                
                cardDeck.appendChild(cardElement);
            });
        }

        function selectCard(card, cardElement) {
            if (cardElement.classList.contains('flipped')) return;
            
            const maxCards = getMaxCardsForReading();
            if (drawnCards.length >= maxCards) return;
            
            cardElement.classList.add('flipped');
            drawnCards.push(card);
            
            setTimeout(() => {
                moveCardToSpread(cardElement, drawnCards.length - 1);
                
                if (drawnCards.length === maxCards) {
                    setTimeout(() => generateReading(), 1000);
                }
            }, 300);
        }

        function getMaxCardsForReading() {
            switch (currentReadingType) {
                case 'single': return 1;
                case 'three': return 3;
                case 'daily': return 3;
                default: return 1;
            }
        }

        function moveCardToSpread(cardElement, position) {
            const spreadLayout = document.getElementById('spreadLayout');
            const newCard = cardElement.cloneNode(true);
            newCard.style.position = 'relative';
            
            // æ·»åŠ ä½ç½®æ ‡ç­¾
            const label = document.createElement('div');
            label.className = 'position-label';
            label.textContent = getPositionLabel(position);
            newCard.appendChild(label);
            
            spreadLayout.appendChild(newCard);
        }

        function getPositionLabel(position) {
            switch (currentReadingType) {
                case 'single':
                    return 'ä»Šæ—¥æŒ‡å¼•';
                case 'three':
                    const threeLabels = ['è¿‡å»', 'ç°åœ¨', 'æœªæ¥'];
                    return threeLabels[position];
                case 'daily':
                    const dailyLabels = ['æ•´ä½“è¿åŠ¿', 'æ³¨æ„äº‹é¡¹', 'è¡ŒåŠ¨å»ºè®®'];
                    return dailyLabels[position];
                default:
                    return 'ç‰Œ' + (position + 1);
            }
        }

        function generateReading() {
            const resultTitle = document.getElementById('resultTitle');
            const interpretations = document.getElementById('interpretations');
            const overallReading = document.getElementById('overallReading');
            
            // è®¾ç½®æ ‡é¢˜
            const titles = {
                'single': 'ä»Šæ—¥å¡”ç½—æŒ‡å¼•',
                'three': 'ä¸‰å¼ ç‰Œè§£è¯»',
                'daily': 'æ¯æ—¥è¿åŠ¿è§£è¯»'
            };
            resultTitle.textContent = titles[currentReadingType];
            
            // ç”Ÿæˆè§£è¯»
            interpretations.innerHTML = '';
            drawnCards.forEach((card, index) => {
                const interpretation = document.createElement('div');
                interpretation.className = 'card-interpretation';
                
                const positionMeaning = getPositionMeaning(index, card);
                
                interpretation.innerHTML = `
                    <div class="interpretation-title">
                        <span>${card.icon}</span>
                        <span>${getPositionLabel(index)} - ${card.name}</span>
                    </div>
                    <div class="interpretation-text">${positionMeaning}</div>
                `;
                
                interpretations.appendChild(interpretation);
            });
            
            // ç”Ÿæˆç»¼åˆè§£è¯»
            overallReading.textContent = generateOverallReading();
            
            document.getElementById('readingResult').classList.add('show');
        }

        function getPositionMeaning(position, card) {
            const baseMeaning = card.meaning;
            
            switch (currentReadingType) {
                case 'single':
                    return `${baseMeaning}ã€‚ä»Šå¤©è¿™å¼ ç‰Œæé†’æ‚¨å…³æ³¨å½“å‰çš„çŠ¶å†µï¼Œå¹¶ä¸”${getAdvice(card.name)}ã€‚`;
                case 'three':
                    const threeAdvice = {
                        0: `åœ¨è¿‡å»çš„ç»å†ä¸­ï¼Œ${baseMeaning.toLowerCase()}ï¼Œè¿™äº›ç»éªŒä¸ºç°åœ¨çš„æ‚¨å¥ å®šäº†åŸºç¡€ã€‚`,
                        1: `ç›®å‰çš„çŠ¶å†µæ˜¾ç¤º${baseMeaning.toLowerCase()}ï¼Œè¿™æ˜¯æ‚¨å½“å‰éœ€è¦é‡ç‚¹å…³æ³¨çš„æ–¹é¢ã€‚`,
                        2: `æœªæ¥çš„å‘å±•è¶‹åŠ¿è¡¨æ˜${baseMeaning.toLowerCase()}ï¼Œå»ºè®®æ‚¨ä¸ºæ­¤åšå¥½å‡†å¤‡ã€‚`
                    };
                    return threeAdvice[position];
                case 'daily':
                    const dailyAdvice = {
                        0: `ä»Šæ—¥æ•´ä½“è¿åŠ¿æ–¹é¢ï¼Œ${baseMeaning.toLowerCase()}ï¼Œè¿™å°†å½±å“æ‚¨ä¸€å¤©çš„çŠ¶æ€ã€‚`,
                        1: `éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ${baseMeaning.toLowerCase()}ï¼Œè¯·åœ¨ç›¸å…³æ–¹é¢å¤šåŠ å°å¿ƒã€‚`,
                        2: `å»ºè®®æ‚¨é‡‡å–çš„è¡ŒåŠ¨æ˜¯ï¼š${baseMeaning.toLowerCase()}ï¼Œè¿™å°†å¸®åŠ©æ‚¨æ›´å¥½åœ°åº¦è¿‡ä»Šå¤©ã€‚`
                    };
                    return dailyAdvice[position];
                default:
                    return baseMeaning;
            }
        }

        function getAdvice(cardName) {
            const adviceMap = {
                'æ„šè€…': 'ä¿æŒå¼€æ”¾å¿ƒæ€ï¼Œå‹‡äºå°è¯•æ–°äº‹ç‰©',
                'é­”æœ¯å¸ˆ': 'å‘æŒ¥æ‚¨çš„æŠ€èƒ½å’Œåˆ›é€ åŠ›',
                'å¥³ç¥­å¸': 'ç›¸ä¿¡ç›´è§‰ï¼Œå€¾å¬å†…å¿ƒå£°éŸ³',
                'çš‡å': 'å…³çˆ±ä»–äººï¼Œå‘æŒ¥æ¯æ€§å…‰è¾‰',
                'çš‡å¸': 'å±•ç°é¢†å¯¼èƒ½åŠ›ï¼Œå»ºç«‹ç§©åº',
                'æ•™çš‡': 'å¯»æ±‚æ™ºæ…§æŒ‡å¯¼ï¼Œéµå¾ªä¼ ç»Ÿ',
                'æ‹äºº': 'é‡è§†äººé™…å…³ç³»ï¼Œåšå‡ºæ˜æ™ºé€‰æ‹©',
                'æˆ˜è½¦': 'åšæŒæ„å¿—ï¼Œå‹‡å¾€ç›´å‰',
                'åŠ›é‡': 'å‘æŒ¥å†…åœ¨åŠ›é‡ï¼Œä¿æŒè€å¿ƒ',
                'éšè€…': 'ç‹¬å¤„æ€è€ƒï¼Œå¯»æ‰¾ç­”æ¡ˆ',
                'å‘½è¿ä¹‹è½®': 'æŠŠæ¡æœºé‡ï¼Œé€‚åº”å˜åŒ–',
                'æ­£ä¹‰': 'ä¿æŒå…¬æ­£ï¼Œæ‰¿æ‹…è´£ä»»',
                'å€’åŠäºº': 'æ¢ä¸ªè§’åº¦æ€è€ƒï¼Œå­¦ä¼šç­‰å¾…',
                'æ­»ç¥': 'æ¥å—æ”¹å˜ï¼Œè¿æ¥æ–°ç”Ÿ',
                'èŠ‚åˆ¶': 'ä¿æŒå¹³è¡¡ï¼Œè°ƒå’ŒçŸ›ç›¾',
                'é­”é¬¼': 'æ‘†è„±æŸç¼šï¼ŒæŠµåˆ¶è¯±æƒ‘',
                'å¡”': 'é¢å¯¹å˜åŒ–ï¼Œé‡æ–°å¼€å§‹',
                'æ˜Ÿæ˜Ÿ': 'ä¿æŒå¸Œæœ›ï¼Œç›¸ä¿¡æœªæ¥',
                'æœˆäº®': 'æ³¨æ„å¹»è±¡ï¼Œç›¸ä¿¡ç›´è§‰',
                'å¤ªé˜³': 'ä¿æŒç§¯æï¼Œäº«å—æˆåŠŸ',
                'å®¡åˆ¤': 'è§‰é†’é‡ç”Ÿï¼Œå®½æ•è¿‡å»',
                'ä¸–ç•Œ': 'è¿½æ±‚å®Œç¾ï¼Œè¾¾æˆç›®æ ‡'
            };
            return adviceMap[cardName] || 'ä¿æŒå¼€æ”¾å¿ƒæ€';
        }

        function generateOverallReading() {
            const overallTexts = {
                'single': [
                    'ä»Šå¤©çš„å¡”ç½—æŒ‡å¼•æé†’æ‚¨è¦å…³æ³¨å½“å‰çš„çŠ¶å†µï¼Œè¿™å¼ ç‰Œçš„èƒ½é‡å°†ä¼´éšæ‚¨åº¦è¿‡è¿™ä¸€å¤©ã€‚å»ºè®®æ‚¨å°†è¿™ä¸ªä¿¡æ¯èå…¥åˆ°ä»Šå¤©çš„å†³ç­–ä¸­ã€‚',
                    'è¿™å¼ ç‰Œä»£è¡¨äº†ä»Šæ—¥çš„ä¸»è¦èƒ½é‡ï¼Œå®ƒå°†å½±å“æ‚¨çš„æ€è€ƒå’Œè¡ŒåŠ¨ã€‚è¯·ä¿æŒè§‰å¯Ÿï¼Œè®©è¿™ä¸ªæŒ‡å¼•å¸®åŠ©æ‚¨åšå‡ºæœ€å¥½çš„é€‰æ‹©ã€‚',
                    'ä»Šæ—¥çš„å¡”ç½—ä¿¡æ¯ä¸ºæ‚¨æŒ‡æ˜äº†æ–¹å‘ï¼Œç›¸ä¿¡æ‚¨çš„ç›´è§‰å¹¶æ ¹æ®è¿™ä¸ªæŒ‡å¼•è¡ŒåŠ¨ï¼Œå°†ä¼šå¸¦æ¥ç§¯æçš„ç»“æœã€‚'
                ],
                'three': [
                    'ä»è¿‡å»ã€ç°åœ¨åˆ°æœªæ¥çš„ä¸‰å¼ ç‰Œæ˜¾ç¤ºäº†ä¸€ä¸ªå®Œæ•´çš„å‘å±•è„‰ç»œã€‚è¿‡å»çš„ç»éªŒä¸ºç°åœ¨å¥ å®šåŸºç¡€ï¼Œè€Œç°åœ¨çš„é€‰æ‹©å°†å†³å®šæœªæ¥çš„æ–¹å‘ã€‚',
                    'è¿™ä¸‰å¼ ç‰Œæ­ç¤ºäº†æ‚¨ç”Ÿå‘½ä¸­çš„é‡è¦é˜¶æ®µå’Œè½¬æŠ˜ã€‚ç†è§£è¿™äº›è”ç³»å°†å¸®åŠ©æ‚¨æ›´å¥½åœ°æŠŠæ¡å½“ä¸‹ï¼Œåˆ›é€ ç†æƒ³çš„æœªæ¥ã€‚',
                    'æ—¶é—´çš„æµè½¬åœ¨è¿™ä¸‰å¼ ç‰Œä¸­å¾—åˆ°ä½“ç°ï¼Œå®ƒä»¬å…±åŒæ„æˆäº†æ‚¨äººç”Ÿæ•…äº‹çš„é‡è¦ç« èŠ‚ã€‚ç”¨å¿ƒæ„Ÿå—è¿™äº›ä¿¡æ¯çš„æŒ‡å¼•ã€‚'
                ],
                'daily': [
                    'ä»Šæ—¥çš„ä¸‰ä¸ªæ–¹é¢â€”â€”æ•´ä½“è¿åŠ¿ã€æ³¨æ„äº‹é¡¹å’Œè¡ŒåŠ¨å»ºè®®ï¼Œä¸ºæ‚¨æä¾›äº†å…¨é¢çš„æŒ‡å¯¼ã€‚å¹³è¡¡è¿™ä¸‰ä¸ªæ–¹é¢å°†å¸®åŠ©æ‚¨åº¦è¿‡ç¾å¥½çš„ä¸€å¤©ã€‚',
                    'è¿™ä¸‰å¼ ç‰Œä¸ºæ‚¨çš„ä»Šæ—¥ç”Ÿæ´»æä¾›äº†å…¨æ–¹ä½çš„è§†è§’ã€‚å…³æ³¨æ•´ä½“è¶‹åŠ¿ï¼Œæ³¨æ„æ½œåœ¨é—®é¢˜ï¼Œå¹¶é‡‡å–ç§¯æè¡ŒåŠ¨ã€‚',
                    'ä»Šå¤©çš„å¡”ç½—æŒ‡å¼•æ¶µç›–äº†æ‚¨éœ€è¦å…³æ³¨çš„å„ä¸ªå±‚é¢ã€‚ä¿æŒè­¦è§‰ï¼Œç§¯æåº”å¯¹ï¼Œæ‚¨å°†èƒ½å¤Ÿå……åˆ†åˆ©ç”¨ä»Šæ—¥çš„èƒ½é‡ã€‚'
                ]
            };
            
            const texts = overallTexts[currentReadingType];
            return texts[Math.floor(Math.random() * texts.length)];
        }

        function shuffleDeck() {
            const cards = document.querySelectorAll('.tarot-card');
            cards.forEach(card => {
                card.classList.remove('flipped');
                card.style.order = Math.random();
            });
            
            drawnCards = [];
            document.getElementById('spreadLayout').innerHTML = '';
            document.getElementById('readingResult').classList.remove('show');
        }

        document.addEventListener('DOMContentLoaded', () => {
            createStars();
        });
    </script>

    <!-- å¼•å…¥é€šç”¨é¡µè„š -->
    <style>
        .mystic-footer {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(26, 26, 46, 0.95));
            backdrop-filter: blur(10px);
            border-top: 2px solid rgba(0, 255, 255, 0.3);
            padding: 20px;
            text-align: center;
            margin-top: 40px;
            position: relative;
            z-index: 100;
        }

        .mystic-footer .disclaimer-main {
            font-size: 15px;
            color: #ffaa00;
            font-weight: bold;
            margin-bottom: 12px;
            animation: footerGlow 2s ease-in-out infinite alternate;
        }

        @keyframes footerGlow {
            from { text-shadow: 0 0 5px #ffaa00, 0 0 10px #ffaa00; }
            to { text-shadow: 0 0 8px #ffaa00, 0 0 15px #ffaa00, 0 0 20px #ffaa00; }
        }

        .mystic-footer .disclaimer {
            font-size: 13px;
            color: #ccc;
            line-height: 1.5;
            margin-bottom: 15px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .mystic-footer .footer-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 12px;
        }

        .mystic-footer .footer-links a {
            color: #888;
            text-decoration: none;
            padding: 6px 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        .mystic-footer .footer-links a:hover {
            color: #00ffff;
            border-color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .mystic-footer .copyright {
            font-size: 11px;
            color: #666;
            margin-top: 10px;
        }

        .mystic-footer .wisdom-quote {
            font-size: 12px;
            color: #999;
            font-style: italic;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .mystic-footer .footer-links {
                flex-direction: column;
                gap: 8px;
            }
            
            .mystic-footer .disclaimer-main {
                font-size: 13px;
            }
            
            .mystic-footer .disclaimer {
                font-size: 12px;
            }
        }
    </style>

    <footer class="mystic-footer">
        <div class="disclaimer-main">
            âš ï¸ é‡è¦æé†’ï¼šæœ¬ç«™æ‰€æœ‰é¢„æµ‹ç»“æœä»…ä¾›å¨±ä¹å‚è€ƒï¼Œè¯·å‹¿å½“çœŸï¼
        </div>
        <div class="disclaimer">
            ğŸŒŸ å‘½è¿æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œå åœç»“æœä»…ä¸ºå‚è€ƒ â€¢ ç†æ€§å¯¹å¾…é¢„æµ‹å†…å®¹ï¼Œç§¯æé¢å¯¹äººç”ŸæŒ‘æˆ˜<br>
            ğŸ”® æœ¬å¹³å°è‡´åŠ›äºå¼˜æ‰¬ä¼ ç»Ÿæ–‡åŒ–ï¼Œæ‰€æœ‰å†…å®¹å‡ä¸ºæ–‡åŒ–ä¼ æ’­å’Œå¨±ä¹ç›®çš„
        </div>
        <div class="footer-links">
            <a href="../../index_mystic.html">è¿”å›é¦–é¡µ</a>
            <a href="#" onclick="return false;">æœåŠ¡æ¡æ¬¾</a>
            <a href="#" onclick="return false;">éšç§æ”¿ç­–</a>
            <a href="#" onclick="return false;">å…è´£å£°æ˜</a>
            <a href="#" onclick="return false;">è”ç³»æˆ‘ä»¬</a>
        </div>
        <div class="wisdom-quote">
            "çŸ¥å‘½ä¸æƒ§ï¼ŒçŸ¥è€Œæ— ç•" - æ¢ç´¢æœªçŸ¥ï¼Œæ‹¥æŠ±å¯èƒ½
        </div>
        <div class="copyright">
            Â© 2024 ç¥ç§˜å­¦é¢„æµ‹ä¸­å¿ƒ All Rights Reserved | ä»…ä¾›å¨±ä¹ è¯·å‹¿å½“çœŸ
        </div>
    </footer>

</body>
</html> 